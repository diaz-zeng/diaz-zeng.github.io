---
title: å¿«é€Ÿæ­å»ºåŸºäºVuePressçš„ç®€æ˜“åšå®¢
date: 2021-11-08 10:28:03
permalink: /pages/33386d/
categories: 
  - Web å‰ç«¯
tags: 
  - null
sidebar: auto
---
# å¿«é€Ÿæ­å»ºåŸºäºVuePressçš„ç®€æ˜“åšå®¢

æœ¬æ–‡å†…å®¹åŒ…å«ä¸¤éƒ¨åˆ†ï¼š

1. æ­å»ºä¸€ä¸ªåŸºäºVuePressçš„é™æ€é¡µé¢ç½‘ç«™
2. å°†é¡µé¢å‘å¸ƒåˆ°Github Pageså’ŒGitee Pages

## å…³äºVuePress

[VuePress](https://vuepress.vuejs.org/zh/)æ˜¯ä¸€ä¸ªVueé©±åŠ¨çš„ä»¥Markdownä¸ºä¸­å¿ƒçš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ã€‚æ ¸å¿ƒæ˜¯é€šè¿‡ç¼–å†™Markdownæ–‡æ¡£çš„æ–¹å¼åˆ›å»ºç½‘é¡µï¼Œå¯ä»¥è®©ä½¿ç”¨è€…æ›´å®¹æ˜“ä¸“æ³¨äºå†…å®¹æœ¬èº«è€Œéç«™ç‚¹çš„æ„å»ºä¸Šï¼Œå› æ­¤éå¸¸é€‚åˆç”¨æ¥ç¼–å†™åšå®¢æˆ–æ˜¯é¡¹ç›®æ–‡æ¡£ã€‚å½“å‰ç«™ç‚¹å°±æ˜¯åŸºäºVuePresså‘å¸ƒåœ¨Github Pages

## é¡¹ç›®æ­å»º

é¡¹ç›®çš„æ­å»ºæ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œæœ€ç»ˆçš„ç›®å½•ç»“æ„ä¹Ÿæœ‰æ‰€ä¸åŒï¼Œåœ¨è¿™é‡Œç¬”è€…ä¸»è¦æ˜¯åŸºäºå®˜ç½‘çš„æ–¹å¼ï¼Œå†ç»“åˆä¸Šä¸€äº›é¢å¤–çš„é…ç½®ã€‚

**ä¸»è¦æ­¥éª¤**ï¼šå»ºç«‹ç©ºç™½Nodeé¡¹ç›® --> åŠ å…¥VuePressä¾èµ– -->å†™å…¥ç¬¬ä¸€ç¯‡æ–‡æ¡£

### å»ºç«‹Nodeé¡¹ç›® 

åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½•

``` bash
 mkdir vue-press-demo && cd vue-press-demo
```

åˆå§‹åŒ–nodeé¡¹ç›®

```bash
 yarn init # npm init
 
```

### åŠ å…¥VuePressä¾èµ–

å¯¼å…¥VuePressçš„ä¾èµ–ï¼ˆå®˜æ–¹å»ºè®®ä½¿ç”¨å¼€å‘ä¾èµ–è€Œéå…¨å±€ä¾èµ–ï¼‰

```bash
yarn add -D vuepress # npm install -D vuepress
```

åœ¨package.jsonä¸­åŠ å…¥ä¸€äº›scripts

```json
{
  "scripts": {
    "docs:dev": "vuepress dev docs",
    "docs:build": "vuepress build docs"
  }
}
```

### å†™å…¥ç¬¬ä¸€ç¯‡æ–‡æ¡£

å»ºç«‹ docsç›®å½•ï¼Œåç»­çš„æ‰€æœ‰æ–‡æ¡£éƒ½å°†å­˜æ”¾åœ¨æ­¤ç›®å½•ä¸‹

```bash
mkdir docs
```

åœ¨docsç›®å½•ä¸‹åˆ›å»ºREADME.mdå¹¶å†™å…¥å†…å®¹ï¼ˆæ¨èä½¿ç”¨Typoraä½œä¸ºæ–‡æ¡£ç¼–è¾‘å™¨ï¼‰

```bash
echo '# Hello VuePress' > docs/README.md
```

æ­¤æ—¶æˆ‘ä»¬çš„ç›®å½•ç»“æ„åº”è¯¥æ˜¯è¿™æ ·çš„

```
.
â”œâ”€â”€ docs
â”‚   â”œâ”€â”€ README.md
â””â”€â”€ package.json
```

å¯åŠ¨é¢„è§ˆ

``` bash
yarn docs:dev # npm run docs:dev
```

è®¿é—® 127.0.0.1:8080

![00](./img/00.vuepress-startup/00.png)

åˆ°è¿™é‡Œå°±å·²ç»å®Œæˆäº†é¡¹ç›®çš„åŸºæœ¬é…ç½®ï¼Œæ›´å¤šé…ç½®å¯ä»¥å‚è€ƒ[å¿«é€Ÿä¸Šæ‰‹ | VuePress (vuejs.org)](https://vuepress.vuejs.org/zh/guide/getting-started.html)ã€‚

## é™„åŠ é…ç½®

å®˜æ–¹çš„æ¨¡ç‰ˆæ›´å€¾å‘äºç”¨æ¥ç¼–å†™é¡¹ç›®æ–‡æ¡£ï¼Œå¹¶ä¸å¤ªé€‚åˆç”¨äºåˆ›å»ºä¸ªäººåšå®¢ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦é’ˆå¯¹åšå®¢è¿›è¡Œä¸€äº›é…ç½®ï¼Œåœ¨è¿™é‡Œæˆ‘å¼•å…¥äº†ä¸»é¢˜ï¼ˆ[vuepress-theme-vdoing](https://doc.xugaoyi.com/)ï¼‰ï¼Œä»¥åŠä¸€äº›æ’ä»¶æ¥ä¸°å¯ŒåŠŸèƒ½ã€‚

### å¼•å…¥ä¸»é¢˜åŠæ’ä»¶ä¾èµ–

```bash
yarn add -D vuepress-theme-vdoing dayjs vuepress-plugin-one-click-copy vuepress-plugin-thirdparty-search vuepress-plugin-zooming
# vuepress-theme-vdoing ä¸»é¢˜
# dayjs æ—¶é—´æ—¥æœŸå·¥å…·åº“ https://dayjs.fenxianglu.cn/
# vuepress-plugin-one-click-copy ä»£ç å—ç‚¹å‡»å¤åˆ¶æ’ä»¶
# vuepress-plugin-thirdparty-search ç¬¬ä¸‰æ–¹æœç´¢æ’ä»¶
# vuepress-plugin-zooming å›¾ç‰‡ç¼©æ”¾æ’ä»¶
```

### æ–°å»ºé¡¹ç›®é…ç½®æ–‡ä»¶å¹¶åŠ å…¥ä¸»é¢˜é…ç½®

é¦–å…ˆéœ€è¦åœ¨docsç›®å½•ä¸‹å»ºç«‹.vuepressç›®å½•

æ¥ä¸‹æ¥æ‰€æœ‰çš„é¡¹ç›®ç›¸å…³é…ç½®ä»¥åŠé™æ€èµ„æºéƒ½å°†åœ¨è¿™ä¸ªç›®å½•ä¸‹å­˜æ”¾

```bash
mkdir docs/.vuepress 
```

åœ¨.vuepressç›®å½•ä¸‹æ–°å»ºconfig.jsï¼Œå¹¶åŠ å…¥ä»¥ä¸‹å†…å®¹

```javascript
module.exports = {
    theme: 'vdoing', // ä½¿ç”¨npmåŒ…ä¸»é¢˜
    title: 'ç«™ç‚¹åç§°',
    markdown: {
        toc: {
            includeLevel: [2, 3, 4]
        },
        lineNumber: true // ä»£ç å—è¡Œå·
    },
    themeConfig: {
      	// å¯¼èˆªæ é…ç½®
        nav: [
            { text: 'é¦–é¡µ', link: '/' }, {
                text: 'ç´¢å¼•',
                link: '/archives/',
                items: [
                    { text: 'åˆ†ç±»', link: '/categories/' },
                    { text: 'æ ‡ç­¾', link: '/tags/' },
                    { text: 'å½’æ¡£', link: '/archives/' },
                ],
            },
            { text: "GitHub", link: 'https://github.com/diaz-zeng', target: '_blank' },
            { text: "Issues", link: 'https://github.com/diaz-zeng/diaz-zeng.github.io/issues', target: '_blank' },

        ],
        // sidebarDepth: 2, // ä¾§è¾¹æ æ˜¾ç¤ºæ·±åº¦ï¼Œé»˜è®¤1ï¼Œæœ€å¤§2ï¼ˆæ˜¾ç¤ºåˆ°h3æ ‡é¢˜ï¼‰
        searchMaxSuggestions: 10, // æœç´¢ç»“æœæ˜¾ç¤ºæœ€å¤§æ•°
        lastUpdated: 'ä¸Šæ¬¡æ›´æ–°', // å¼€å¯æ›´æ–°æ—¶é—´ï¼Œå¹¶é…ç½®å‰ç¼€æ–‡å­—   string | boolean (å–å€¼ä¸ºgitæäº¤æ—¶é—´)
        docsDir: 'docs', // ç¼–è¾‘çš„æ–‡ä»¶å¤¹
        sidebar: 'structuring', // ä¾§è¾¹æ   'structuring' | { mode: 'structuring', collapsable: Boolean} | 'auto' | è‡ªå®šä¹‰    æ¸©é¦¨æç¤ºï¼šç›®å½•é¡µæ•°æ®ä¾èµ–äºç»“æ„åŒ–çš„ä¾§è¾¹æ æ•°æ®ï¼Œå¦‚æœä½ ä¸è®¾ç½®ä¸º'structuring',å°†æ— æ³•ä½¿ç”¨ç›®å½•é¡µ
        author: {
            // æ–‡ç« é»˜è®¤çš„ä½œè€…ä¿¡æ¯ï¼Œå¯åœ¨mdæ–‡ä»¶ä¸­å•ç‹¬é…ç½®æ­¤ä¿¡æ¯ String | {name: String, link: String}
            name: 'ä½ çš„åå­—', // å¿…éœ€
            link: 'ä½ çš„githubæˆ–è€…å…¶ä»–ä¸ªäººä¸»é¡µé“¾æ¥', // å¯é€‰çš„
        },
        social: {
            // ç¤¾äº¤å›¾æ ‡ï¼Œæ˜¾ç¤ºäºåšä¸»ä¿¡æ¯æ å’Œé¡µè„šæ 
            // iconfontCssFile: '//at.alicdn.com/t/font_1678482_u4nrnp8xp6g.css', // å¯é€‰ï¼Œé˜¿é‡Œå›¾æ ‡åº“åœ¨çº¿cssæ–‡ä»¶åœ°å€ï¼Œå¯¹äºä¸»é¢˜æ²¡æœ‰çš„å›¾æ ‡å¯è‡ªç”±æ·»åŠ 
            icons: [
                {
                    iconClass: 'icon-github',
                    title: 'GitHub',
                    link: 'https://github.com/diaz-zeng', // æ›¿æ¢æˆä½ çš„githubåœ°å€æˆ–è€…åˆ é™¤æ•´ä¸ªiconså­—æ®µ
                },
            ],
        },
        // é¡µè„šä¿¡æ¯
        footer: {
            createYear: 2021, // åšå®¢åˆ›å»ºå¹´ä»½
            copyrightInfo:
                'ä½ çš„åå­— | <a href="#" target="_blank">MIT License</a>', // åšå®¢ç‰ˆæƒä¿¡æ¯ï¼Œæ”¯æŒaæ ‡ç­¾
        },
    },
    head: [
        [
            'meta',
            {
                name: 'keywords',
                content: 'å‰ç«¯åšå®¢,ä¸ªäººæŠ€æœ¯åšå®¢,å‰ç«¯,å‰ç«¯å¼€å‘,å‰ç«¯æ¡†æ¶,webå‰ç«¯,å‰ç«¯é¢è¯•é¢˜,æŠ€æœ¯æ–‡æ¡£,å­¦ä¹ ,é¢è¯•,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown',
            },
        ],
        ['meta', { name: 'theme-color', content: '#11a8cd' }], // ç§»åŠ¨æµè§ˆå™¨ä¸»é¢˜é¢œè‰²

    ],
    plugins: [
        // å¯ä»¥æ·»åŠ ç¬¬ä¸‰æ–¹æœç´¢é“¾æ¥çš„æœç´¢æ¡†ï¼ˆåŸå®˜æ–¹æœç´¢æ¡†çš„å‚æ•°ä»å¯ç”¨ï¼‰
        [
            'thirdparty-search',
            {
                thirdparty: [
                    // å¯é€‰ï¼Œé»˜è®¤ []
                    {
                        title: 'åœ¨MDNä¸­æœç´¢',
                        frontUrl: 'https://developer.mozilla.org/zh-CN/search?q=', // æœç´¢é“¾æ¥çš„å‰é¢éƒ¨åˆ†
                        behindUrl: '', // æœç´¢é“¾æ¥çš„åé¢éƒ¨åˆ†ï¼Œå¯é€‰ï¼Œé»˜è®¤ ''
                    },
                    {
                        title: 'åœ¨Runoobä¸­æœç´¢',
                        frontUrl: 'https://www.runoob.com/?s=',
                    },
                    {
                        title: 'åœ¨Vue APIä¸­æœç´¢',
                        frontUrl: 'https://cn.vuejs.org/v2/api/#',
                    },
                    {
                        title: 'åœ¨Bingä¸­æœç´¢',
                        frontUrl: 'https://cn.bing.com/search?q=',
                    },
                    {
                        title: 'é€šè¿‡ç™¾åº¦æœç´¢',
                        frontUrl: 'https://www.baidu.com/s?wd=',
                    },
                ],
            },
        ],
        [
            'one-click-copy',
            {
                // ä»£ç å—å¤åˆ¶æŒ‰é’®
                copySelector: ['div[class*="language-"] pre', 'div[class*="aside-code"] aside'], // String or Array
                copyMessage: 'å¤åˆ¶æˆåŠŸ', // default is 'Copy successfully and then paste it for use.'
                duration: 1000, // prompt message display time.
                showInMobile: false, // whether to display on the mobile side, default: false.
            },
        ],
        [
            'vuepress-plugin-zooming', // æ”¾å¤§å›¾ç‰‡
            {
                selector: '.theme-vdoing-content img:not(.no-zoom)', // æ’é™¤classæ˜¯no-zoomçš„å›¾ç‰‡
                options: {
                    bgColor: 'rgba(0,0,0,0.6)',
                },
            },
        ],
        [
            '@vuepress/last-updated', // "ä¸Šæ¬¡æ›´æ–°"æ—¶é—´æ ¼å¼
            {
                transformer: (timestamp, lang) => {
        					const dayjs = require('dayjs') // https://day.js.org/
        					const utc = require('dayjs/plugin/utc')
                  /*
                   å¼ºåˆ¶ä½¿ç”¨UTCæ—¶é—´å¹¶è®¾ç½®åç§»é‡ä»¥å›ºå®šåˆ°ä¸œå…«åŒº
                   å¦åˆ™å°†ä¼šä½¿ç”¨æœåŠ¡å™¨æœ¬åœ°æ—¶é—´ï¼Œæ¯”å¦‚åœ¨GitHub Pagesä¸Šéƒ¨ç½²æ—¶å°±ä¼šä½¿ç”¨UTCæ—¶
                   åç§»é‡ä»¥åˆ†é’Ÿä¸ºå•ä½
                   */
       				 		dayjs.extend(utc)
        					return dayjs(timestamp).utcOffset(480).format('YYYY/MM/DD, HH:mm:ss');
                },
            },
        ],
    ]
    ,
}

```

ä¿å­˜é…ç½®åå†é‡å¯é¢„è§ˆ

![æˆªå±2021-11-12 16.17.33](./img/00.vuepress-startup/01.png)

æ­¤æ—¶å°±æ›´åƒæ˜¯åšå®¢çš„æ ·å­äº†ğŸ¤£

## éƒ¨ç½²ä¸è‡ªåŠ¨æ›´æ–°

ä½œä¸ºä¸€ä¸ªèµ„æ·±çš„ç™½å«–å…šï¼Œè®©æˆ‘èŠ±é’±ç§ŸæœåŠ¡å™¨æ˜¯ä¸å¯èƒ½çš„ï¼Œæ­£å¥½GitHubå’ŒGiteeéƒ½æœ‰ç›¸åº”çš„PagesæœåŠ¡ç”¨æ¥æ‰˜ç®¡é™æ€é¡µé¢ï¼Œå¯¹äºä¸€ä¸ªåšå®¢æ¥è¯´è¿™å°±å¤Ÿç”¨äº†ã€‚

### GitHub Pages

é¦–å…ˆè¦æ˜ç¡®é¡¹ç›®æ˜¯è¦éƒ¨ç½²åœ¨\<username\>.github.ioï¼ˆä½œä¸ºè´¦æˆ·çš„pagesï¼‰ä¸‹è¿˜æ˜¯\<username\>.github.io/\<repo\>ï¼ˆä½œä¸ºæŸä¸ªé¡¹ç›®çš„pagesï¼‰ä¸‹ï¼Œå¦‚æœæ˜¯ä½œä¸ºæŸä¸ªé¡¹ç›®çš„pagesè¿›è¡Œéƒ¨ç½²åˆ™éœ€è¦åœ¨docs/.vuepress/config.jsä¸­ä¿®æ”¹baseå­—æ®µï¼ˆGiteeåŒç†ï¼‰ã€‚[é…ç½® | VuePress (vuejs.org)](https://vuepress.vuejs.org/zh/config/#base)

```js
module.exports = {
  base:'/ä½ çš„é¡¹ç›®åç§°/'
}
```

#### è®¿é—®[Personal Access Tokens (github.com)](https://github.com/settings/tokens)åˆ›å»ºä¸€ä¸ªæ–°çš„Personal Access Token

![image-20211112172926463](./img/00.vuepress-startup/image-20211112172926463.png)

å› ä¸ºæˆ‘ä»¬åªéœ€è¦æ¨é€ä»£ç ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å‹¾é€‰repoæƒé™å³å¯ï¼Œè¿‡æœŸæ—¶é—´ä¸ºäº†æ–¹ä¾¿æˆ‘å°±é€‰æ‹©äº†ä¸è¿‡æœŸï¼Œä¹Ÿå¯ä»¥æ ¹æ®éœ€æ±‚è‡ªè¡Œå®šä¹‰

![image-20211112173309570](./img/00.vuepress-startup/image-20211112173309570.png)

å°†tokenå€¼å¦¥å–„ä¿å­˜ï¼Œä¹‹åå°†æ— æ³•å†çœ‹åˆ°å®ƒ

![image-20211112173626353](./img/00.vuepress-startup/image-20211112173626353.png)

#### ä¿å­˜ä»¤ç‰Œåˆ°Githubä»£ç åº“çš„Settings

æ‰“å¼€repoçš„settingså°†tokenåŠ å…¥è¿›å»

![image-20211112174024493](./img/00.vuepress-startup/image-20211112174024493.png)

![image-20211112174201525](./img/00.vuepress-startup/image-20211112174201525.png)

![image-20211112174231023](./img/00.vuepress-startup/image-20211112174231023.png)

#### åˆ›å»º.github/workflowsç›®å½•åŠé…ç½®æ–‡ä»¶

```bash
mkdir .github && mkdir .github/workflows
```

åœ¨.github/workflowsä¸‹æ–°å»ºdeploy-site.ymlå¹¶å†™å…¥ï¼š

```yaml
name: Deploy Site
# è§¦å‘æ¡ä»¶ï¼šå½“masteråˆ†æ”¯æœ‰æ›´æ”¹æ—¶
on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  # éƒ¨ç½²åˆ°GitHub Pages
  build-and-deploy:
    runs-on: ubuntu-latest
    name: "build and deploy"

    steps:
    - name: Checkout
      uses: actions/checkout@v2
      
    # å®‰è£…ä¾èµ–å¹¶æ‰“åŒ…
    - name: Install and build 
      run: yarn install && yarn docs:build
      
    # éƒ¨ç½²æ„å»ºç‰©åˆ°æŒ‡å®šåˆ†æ”¯
    - name: Deploy ğŸš€
      uses: JamesIves/github-pages-deploy-action@4.1.5
      with:
        branch: gh-pages 
        folder: ./docs/.vuepress/dist 
        token: ${{secrets.DEMO_ACCESS_TOKEN}} # Personal Access Token
```

#### æäº¤ä»£ç ä»£ç åˆ°GitHubä»¥è§¦å‘æ„å»º

![image-20211116160314120](./img/00.vuepress-startup/image-20211116160314120.png)

æ­¤æ—¶åœ¨è¿œç«¯æ–°ç”Ÿæˆäº†ä¸€ä¸ªgh-pagesåˆ†æ”¯

![image-20211116160500121](./img/00.vuepress-startup/image-20211116160500121.png)

#### ä¿®æ”¹Githubä»£ç åº“çš„è®¾ç½®ä»¥å¯ç”¨Pages

![image-20211116161136399](./img/00.vuepress-startup/image-20211116161136399.png)

#### è®¿é—®é¢„è§ˆ

![image-20211116160730638](./img/00.vuepress-startup/image-20211116160730638.png)

### Gitee Pages

Gitee Pages å…¶å®å’ŒGithub Pagesæ˜¯éå¸¸ç±»ä¼¼çš„ï¼Œä¹‹æ‰€ä»¥è¦åŠ å…¥Giteeçš„é…ç½®æ˜¯å› ä¸ºåœ¨å›½å†…å› ä¸ºä¼—æ‰€å‘¨çŸ¥çš„åŸå› GitHubçš„è®¿é—®æƒ…å†µå¹¶ä¸æ˜¯å¾ˆç†æƒ³ï¼Œæ‰€ä»¥ç›¸åº”çš„åœ¨Giteeåšä¸€ä¸ªé•œåƒæ¥æ–¹ä¾¿è®¿é—®ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜ï¼Œè™½ç„¶Gitee PagesæœåŠ¡æœ¬èº«ä¸è¦é’±ï¼Œä½†æ˜¯Pagesçš„è‡ªåŠ¨åˆ·æ–°å’Œæµæ°´çº¿æœåŠ¡è¦é’±ã€‚ã€‚ã€‚è¿™å¯¹äºæˆ‘æ¥è¯´æ˜æ˜¾æ˜¯ä¸èƒ½æ¥å—çš„ğŸ˜‚ï¼ˆåœŸè±ªè¯·å¿½ç•¥ï¼‰ã€‚

æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿˜æ˜¯ç”¨GitHubçš„æœåŠ¡æ¥å¸®åŠ©æˆ‘ä»¬éƒ¨ç½²Gitee Pagesï¼ˆGitHub YYDSï¼ï¼ï¼ğŸ‘ğŸ»ï¼‰

#### åˆ›å»ºGiteeçš„Access Token

æˆ‘ä»¬åªéœ€è¦é¡¹ç›®çš„è®¿é—®æƒé™å³å¯ï¼Œä¸éœ€è¦å‹¾é€‰å…¶ä»–çš„æƒé™ï¼ˆå’ŒGitHubå·®ä¸å¤šï¼Œè¿™ä¸€éƒ¨åˆ†åŠ ä¸Šå¾ˆå¤§ç¨‹åº¦æ˜¯ä¸ºäº†è®©è¿™ç¯‡æ–‡ç« çœ‹èµ·æ¥å¾ˆé•¿ï¼‰ã€‚

![image-20211116162813036](./img/00.vuepress-startup/image-20211116162813036.png)

ä¿å­˜å¥½ä»¤ç‰Œï¼Œåˆ‡è®°ï¼ï¼ï¼ï¼

![image-20211116163047900](./img/00.vuepress-startup/image-20211116163047900.png)

#### å°†TokenåŠGiteeè´¦å·å¯†ç åˆ°ä¿å­˜åˆ°GitHub

ä¿å­˜è´¦å·å¯†ç æ˜¯ä¸ºäº†ä½¿ç”¨Actionåˆ·æ–°Gitee Pages

![image-20211116165541694](./img/00.vuepress-startup/image-20211116165541694.png)

#### ä¿®æ”¹.github/workflows/deploy-site.yml

```yaml
name: Deploy Site
# è§¦å‘æ¡ä»¶ï¼šå½“masteråˆ†æ”¯æœ‰æ›´æ”¹æ—¶
on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  # éƒ¨ç½²åˆ°GitHub Pages
  build-and-deploy:
    runs-on: ubuntu-latest
    name: "Build and deploy"

    steps:
    - name: Checkout
      uses: actions/checkout@v2
      
    # å®‰è£…ä¾èµ–å¹¶æ‰“åŒ…
    - name: Install and build 
      run: yarn install && yarn docs:build
      
    # éƒ¨ç½²æ„å»ºç‰©åˆ°æŒ‡å®šåˆ†æ”¯
    - name: Deploy ğŸš€
      uses: JamesIves/github-pages-deploy-action@4.1.5
      with:
        branch: gh-pages 
        folder: ./docs/.vuepress/dist 
        token: ${{secrets.DEMO_ACCESS_TOKEN}} # Personal Access Token
  # è¿½åŠ å¦‚ä¸‹å†…å®¹
  # æ¨é€æ„å»ºç‰©åˆ°Giteeä»“åº“
  push-to-gitee:
    needs: build-and-deploy
    runs-on: ubuntu-latest
    name: "Push to Gitee"
    steps: 
     - name: Checkout
       uses: actions/checkout@v2

    # åˆ‡æ¢åˆ†æ”¯åˆ°gh-pages
     - name: Switch branch
       run: git fetch --unshallow && git checkout gh-pages && git pull
       
       # å¢åŠ è¿™ä¸€æ­¥æ˜¯å› ä¸ºå¦‚æœç›´æ¥ä½¿ç”¨URLæ¨é€å¯èƒ½ä¼šæœ‰shallow update not allowedçš„é”™è¯¯
     - name: Add remote
       # æ›¿æ¢é“¾æ¥ä¸ºä½ è‡ªå·±çš„Giteeä»£ç åº“åœ°å€
       run: git remote add gitee https://oauth2:${{secrets.GITEE_TOKEN}}@gitee.com/diaz/vue-press-demo.git 

     - name: Push to gitee
       run: git push -f --all gitee
       # å¦‚æœä½ åªæƒ³éƒ¨ç½²æ„å»ºç‰©åˆ°Giteeå°±ä½¿ç”¨å¦‚ä¸‹çš„é…ç½®å¹¶åœ¨Gitee Pagesè®¾ç½®ä¸­å°†Pagesåˆ†æ”¯è®¾ç½®ä¸ºmaster
       # run: git push -f gitee gh-pages:master
    
    # åˆ·æ–°Gitee Pagesï¼ˆhttps://github.com/yanglbme/gitee-pages-actionï¼‰
     - name: Refresh Gitee pages
       uses: yanglbme/gitee-pages-action@main
       with:
        gitee-username: ${{secrets.GITEE_USERNAME}}
        gitee-password: ${{secrets.GITEE_PASSWORD}}
        gitee-repo: diaz/vue-press-demo # ä»“åº“åç§°
        branch: gh-pages # å­˜æ”¾Pagesçš„åˆ†æ”¯
        # branch: master # ä»…éƒ¨ç½²æ„å»ºç‰©æ—¶ä½¿ç”¨
```

ä¿å­˜å¹¶æäº¤ä»£ç ï¼Œç„¶åç­‰å¾…æµæ°´çº¿æ„å»º

![image-20211116173354312](./img/00.vuepress-startup/image-20211116173354312.png)

å¤±è´¥äº†ä¸è¦æ…Œï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬è¿˜æ²¡æ‰“å¼€Giteeçš„PagesæœåŠ¡ï¼Œç©ºä»£ç åº“æ˜¯æ²¡æœ‰è¿™ä¸ªé€‰é¡¹çš„ï¼Œä½†æ˜¯ç°åœ¨ä»£ç å·²ç»æ¨é€è¿‡å»äº†ã€‚

#### æ‰“å¼€Gitee PagesæœåŠ¡

![image-20211116174001099](./img/00.vuepress-startup/image-20211116174001099.png)

![image-20211116174055300](./img/00.vuepress-startup/image-20211116174055300.png)

![image-20211116174153210](./img/00.vuepress-startup/image-20211116174153210.png)

#### æµ‹è¯•é…ç½®æ˜¯å¦æ­£å¸¸

è®¿é—®çœ‹ä¸€ä¸‹

![image-20211116174622990](./img/00.vuepress-startup/image-20211116174622990.png)

ä¿®æ”¹ä¸€äº›å†…å®¹å†æ¬¡æäº¤æµ‹è¯•æµ‹è¯•ä¸€ä¸‹Actionæ˜¯å¦æ­£å¸¸

![image-20211116174759308](./img/00.vuepress-startup/image-20211116174759308.png)

å†…å®¹ä¹Ÿå·²ç»æ›´æ–°ä¸Šå»äº†

![image-20211116175012955](./img/00.vuepress-startup/image-20211116175012955.png)

åˆ°æ­¤æ‰€æœ‰çš„é…ç½®éƒ½ç»“æŸäº†ï¼Œè¿™ä¸ªé¡¹ç›®æˆ‘æ”¾åœ¨GitHubä¸Šäº†[diaz-zeng/vue-press-demo: vuepressæ¼”ç¤ºé¡¹ç›® (github.com)](https://github.com/diaz-zeng/vue-press-demo)ï¼Œæœ‰éœ€è¦çš„å¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚

## å…³äºç›®å½•ç»“æ„

é¦–å…ˆæ™’å‡ºæˆ‘çš„ç›®å½•ç»“æ„

```
.
â”œâ”€â”€ .github   (å¯é€‰ï¼ŒGitHub Actionsæ‰€éœ€æ–‡ä»¶)
â”‚   â”œâ”€â”€ workflows
â”‚   â”‚   â””â”€â”€ deploy-site.yml (å¯é€‰ï¼ŒåŒ…å«æ‰“åŒ…ã€å¤šæ¸ é“éƒ¨ç½²çš„é…ç½®)
â”œâ”€â”€ docs
â”‚   â”œâ”€â”€ .vuepress (é¡¹ç›®é…ç½®ç›®å½•ï¼ŒåŒå®˜æ–¹ï¼šhttps://vuepress.vuejs.org/zh/guide/directory-structure.html#ç›®å½•ç»“æ„)
â”‚   â”‚   â””â”€â”€ config.js
â”‚   â”œâ”€â”€ <ç»“æ„åŒ–ç›®å½•>
|   â””â”€â”€ README.md (index.mdä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æˆ‘é€‰æ‹©READMEï¼Œå› ä¸ºä¹Ÿå¯ä»¥è¢«GitHubä½œä¸ºé¡¹ç›®æ–‡æ¡£æ‰€è¯†åˆ«)
â””â”€â”€ package.json
```

è¿™æ˜¯æˆ‘åŸºäºvuepress-theme-vdoing æ‰€å»ºè®®çš„[ç›®å½•ç»“æ„](https://doc.xugaoyi.com/pages/2f674a/)è¿›è¡Œç®€åŒ–çš„ï¼Œæœ¬è´¨ä¸Šæ‰€æœ‰çš„æ–‡æ¡£åªè¦æ˜¯æ”¾åœ¨docsç›®å½•ä¸‹éƒ½æ˜¯å¯ä»¥çš„ï¼Œæ²¡æœ‰ç¡¬æ€§çš„è§„å®šï¼Œä½†æ˜¯æˆ‘è¿˜å»ºè®®éµå¾ª[æ„å»ºç»“æ„åŒ–ç«™ç‚¹çš„æ ¸å¿ƒé…ç½®å’Œçº¦å®š ](https://doc.xugaoyi.com/pages/33d574/)ï¼Œä»¥æ–¹ä¾¿æ–‡æ¡£çš„ç®¡ç†ã€‚

